# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

dist: xenial
language: java

jobs:
  include:
    - jdk: openjdk8
      script: mvn clean verify
    - jdk: openjdk11
      script: mvn clean verify -Dt54.skip.tests=true
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.0-STABLE) AND type IN (push) AND repo = bootique/bootique-tapestry

# travis encrypt -r bootique/bootique-tapestry "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-tapestry "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "FMDmg9qlXogr4XBeI5VhAWtwENgxP5ngW0iJAzh21WJw35UNXWZHlvPbiHgX4wY35zxpS1yn1wjJ7MhOxa7Pc2P4OMjW//v2LtEq45SD4tbpAQ6CC82h4ZVCJTQtwYgnZ9N9+v8Cquqr9SAl4vOg0WYIAhX4WlTSw91W9Tjq0L94GrXzK17wzo8bMUBfsQ2YKsVBIfVnhKXfO0ObCwNouuMhI98zSKK8PU+9bk14v3NpRYPzA6DviG46iF/W5xiGh0HTMEFEHzceX5BDBJBBGBLoJB3jWJBJX0hMbCbBluqL4VkluvW7mLsE5WjE/YJGSNmtmEDcKpmLOL4acUna2ijDDX2dvbj4nu9e2s0zBV4Iv9OzZWeGAFupI52i6l+4NmCyznLe+H6vEdIMc7T2FjQpnR1K0uAsbfVGcGTBNN7r/fv9PTqYBVxnL6rmrlvNo8UrUBhntgFpwxDlNwoYxF6M7z7CIYTRjrXTP0FcXMmsH93ZWT4oSN2KeCAT0FgiAbIOelKtAcQh95wMMxstZoKygtH8dEz2t/Qycgm9JiJ8PbtA0BpU+NhMaZRVOSEeJyeaG4Ec3T7YeiIwbpve1ZlJ4nUm/Jb72MuYGvp0cA6H7Sh7kzAflAWrd01uKpNzY0+NvHK+6Z70S8MarhryaY+3mqphBCOUXSnKMBG/krw="
    - secure: "An01Z3Qqwx0KAcbrSeyiq9oS+Wtj8hKoEOiAl7oIhSbSYx9yv/9F0JebKm59q5iU2W/e1Ar7ujLb5ageOFJVhtCfAo/eyjcdOFuGROsWHFYz9g4mhylIn9iDPhZ+RzXjSFPGWw9W7TTYIawdMX6J0VGMz9QqxBZmaFfoLADzElXCnOQm5Z5zDYVC/PS14aKoxFnGgKx7bXV4aUyTO+YmTToIbQhKeq3fFDWMdhiLf+9ZgZA9zFHHtoC2dnUoIdHKVSvYVtQmpX57j2yy7zKESn5TlcwYGoAGAPzqSbrV/hpRSQcmRNerywOOgwyBE72i1dnZI6NYg/1EaZgSn0L5cWw117VUhIteBpkV5pBAIiQHS0Hmx0jscT06sqLbXgFB/OSUSNIE6hr92TeyUolwuJ3NiOcrANy/3awWB1SMQy3aCHM0UWRoAwyJn7u/fUuPhzers3Ell9zwv+i/xJJfgKSzjGsFDWLd1MTJAbUUK5MmAk3f1lfEdDkfGiNSFroqztZ+5xIMo+BIHnimlscs/kSUoxhR6Vqhsd0gwAV29XeIaa6rQk/zqK0DxbxJRFbjGypWEuhgKuj6/tV9EhpzOgEDJtpqNTUfqD8rwSvkCwCq115cfcHhftBKfRYZadIDqmmAKGY56FnpeVGMXvsFtYTBwl0CJr04DK9xiGkDDvo="
